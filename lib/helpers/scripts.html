<script type="text/javascript">
	var lintResults = document.querySelectorAll('tr.lint-result'),
		filters = document.querySelectorAll('input[name="filters"]'),
		tabs = document.querySelectorAll('.nav-tabs > li > button');

	// helper functions
	function hideElement(element) {
		element.style.display = 'none';
	}

	function toggleDisplay(element) {
		element.style.display = (element.style.display !== 'none') ? 'none' : 'block';
	}

	// accordion
	lintResults.forEach(function setUpAccordion(result) {
		result.addEventListener('click', handleResultClick);
		result.addEventListener('keydown', function onKeydown(event) {
			if (event.which === 13) {
				handleResultClick.apply(this);
			}
		});
	});

	function handleResultClick() {
		if (!this.className.includes('bg-success')) {
			toggleAccordion.apply(this);
		}
//		window.location.href = '#' + this.getAttribute('id');
	}

	function toggleAccordion() {
		var resultDetails = document.getElementsByClassName(this.getAttribute('data-group'));

		this.className = this.className.includes('open') ? this.className.replace(' open', '') : this.className + ' open';
		resultDetails[0].style.display = resultDetails[0].style.display !== 'none' ? 'none' : 'table-row';
	}

	// filter
	filters.forEach(function addChangeListener(filter) {
		filter.addEventListener('change', filterResults);
	});

	function filterResults() {
		var filterValue = document.querySelector('input[name="filters"]:checked').value;

		lintResults.forEach(function filterByClass(result) {
			result.style.display = result.className.includes(filterValue) ? 'table-row' : 'none';
		});
	}

	// tabs
	tabs.forEach(function addClickListener(tab) {
		tab.addEventListener('click', activateTab);
	});

	function activateTab() {
		var currentTabs = document.querySelectorAll(this.getAttribute('data-parent') + ' .nav-tabs > li'),
			tabPanes = document.querySelectorAll(this.getAttribute('data-parent') + ' .tab-pane'),
			tabContent = document.getElementById(this.getAttribute('data-content'));

		currentTabs.forEach(disableTabs);
		tabPanes.forEach(hideElement);
		this.parentNode.className = 'active';
		toggleDisplay(tabContent);
	}

	function disableTabs(tab) {
		tab.className = '';
	}
</script>